FROM python:3.12.1-bullseye

COPY backend/ /app
COPY .env /app/.env

ARG BACKEND_PORT=8000
ENV BACKEND_PORT ${BACKEND_PORT}

WORKDIR /app

RUN pip install --no-cache-dir -r requirements.txt

CMD uvicorn main:app --reload --host 0.0.0.0 --port ${BACKEND_PORT}